collection: ads

dimensions:
  - name: channelId
  - name: campaignType
  - name: fabric
  - name: locale
  - name: osName

metrics:
  - name: adRequestCount
    type: LONG
  - name: adOptimizationCount
    type: LONG
  - name: adImpressionCount
    type: LONG
  - name: adClickCount
    type: LONG
  - name: impressionCount
    type: LONG
  - name: impressionCost
    type: FLOAT
  - name: clickCost
    type: FLOAT
  - name: cost
    type: FLOAT
  - name: firstAdOptimizationCost
    type: LONG
  - name: firstUnifiedImpressionCount
    type: LONG
  - name: firstFederatorImpressionCount
    type: LONG

time:
  columnName: tenMinutesSinceEpoch
  input:
    size: 10
    unit: MINUTES
  bucket:
    size: 10
    unit: MINUTES
  retention:
    size: 8640
    unit: MINUTES

rollup:
  functionClass: com.linkedin.thirdeye.bootstrap.rollup.AverageBasedRollupFunction
  functionConfig:
    threshold: "50"
    metricName: "adRequestCount"
    timeWindowSize: "3024"
  order:
    - fabric
    - locale
    - osName
    - campaignType
    - channelId

split:
  threshold: 100
